(window.webpackJsonpCY=window.webpackJsonpCY||[]).push([[11],Array(40).concat([function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),s=t(1),i=t.n(s),a=t(8),u=t.n(a),c=t(9),l=t.n(c),f=t(5),_=t.n(f),h=t(54),w=t(56),b=t(58),d=t(60),p=t(65),m=t(4),v=t(51);function g(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=_()(e);if(n){var o=_()(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return l()(this,t)}}var k=[{key:"Arousalvalence",labels:["arousal","valence"]}],O={input_width:48,input_height:48,order:h.Image.Order.HWC,colorspace:h.Image.Color.RGB,bias:[127.5,127.5,127.5],scale:[127.5,127.5,127.5],task:["regression"],threshold:NaN},y="./network/",j={"graph_webassembly.json":t(100)(y+"graph_webassembly.json"),"graph_webgl_16384.json":t(102)(y+"graph_webgl_16384.json"),"graph_webgl_4096.json":t(104)(y+"graph_webgl_4096.json"),"graph_webgl_8192.json":t(106)(y+"graph_webgl_8192.json"),"graph_webgpu.json":t(108)(y+"graph_webgpu.json"),"kernels_asmjs.js":t(110)(y+"kernels_asmjs.js"),"kernels_asmjs.js.mem":t(112)(y+"kernels_asmjs.js.mem"),"kernels_webassembly.js":t(114)(y+"kernels_webassembly.js"),"kernels_webassembly.wasm":t(116)(y+"kernels_webassembly.wasm"),"kernels_webgpu.metal":t(118)(y+"kernels_webgpu.metal"),"weight_webassembly.bin":t(120)(y+"weight_webassembly.bin"),"weight_webgl_16384.bin":t(122)(y+"weight_webgl_16384.bin"),"weight_webgl_4096.bin":t(124)(y+"weight_webgl_4096.bin"),"weight_webgl_8192.bin":t(126)(y+"weight_webgl_8192.bin"),"weight_webgpu.bin":t(128)(y+"weight_webgpu.bin")},D=function(e){u()(t,e);var n=g(t);function t(e){var r,s;o()(this,t);return(s=n.call(this,k,O,j,y,e))._clipFilterArousal=new d.a({boundAt10Fps:.07,windowLength:3}),s._clipFilterValence=new d.a({boundAt10Fps:.07,windowLength:3}),s.setSmoothness(null!==(r=e.conf.smoothness)&&void 0!==r?r:.7),s}return i()(t,[{key:"setSmoothness",value:function(e){this._useTimeFilters=0!==e;var n=1-e;this._lerp=new b.d(2,{type:b.b.EMA,alphaAt10Fps:n})}},{key:"_minRestTimeProcess",value:function(e){var n=this,t=e.allData,r=e.frameTimestamp,o=Object(v.a)({allData:t},"face_base",m.e).output;return this.runTheNetwork(o).then((function(e){var t=n.getResultFromNetworkOutput(e),o=t.Arousalvalence,s=o.arousal,i=o.valence;n._useTimeFilters&&(s=n._clipFilterArousal.next(s,r),i=n._clipFilterValence.next(i,r));var a=[s,i],u=n._lerp.next(a,r),c={arousal:u[0],valence:u[1]},l=Object(p.c)(c);return{type:"face_arousal_valence",output:{arousal:l.arousal,valence:l.valence,affects38:Object(p.f)(Object(p.d)(l,p.a)),affects98:Object(p.f)(Object(p.d)(l,p.b)),quadrant:Object(p.e)(l)},private:{rawArousalvalence:t.Arousalvalence}}}))}}]),t}(w.a);n.default=D},,,,,,,,,,,,function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(0),o=t.n(r),s=t(1),i=t.n(s),a=function(){function e(n,t){o()(this,e),this._minRestTime=n,this._lastDoneTime=0,this._canSchedule=!0,this._busyReject=t}return i()(e,[{key:"remainingMs",value:function(){return Math.max(0,this._minRestTime-(Date.now()-this._lastDoneTime))}},{key:"canSchedule",value:function(){return this._canSchedule&&0===this.remainingMs()}},{key:"scheduleNext",value:function(e){var n=this;return this.canSchedule()?(this._canSchedule=!1,Promise.resolve(e()).then((function(e){return n.processDone(),e})).catch((function(e){throw n.processDone(),e}))):Promise.reject(this._busyReject)}},{key:"processDone",value:function(){this._canSchedule=!0,this._lastDoneTime=Date.now()}}]),e}()},,,function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(0),o=t.n(r),s=t(1),i=t.n(s),a=function(){function e(n){o()(this,e),this._lastTimestamp=null,this._reject=n}return i()(e,[{key:"push",value:function(e){if(null===this._lastTimestamp)this._lastTimestamp=e;else{if(this._lastTimestamp>e)return Promise.reject(this._reject);this._lastTimestamp=e}}}]),e}()},function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var r=t(0),o=t.n(r),s=t(1),i=t.n(s),a=t(4),u=t(52),c=t(54),l=t(55),f=function(){function e(n,t,r,s,i){o()(this,e);var c=i.minRestTime,f=i.conf;this._minRestTimeHelper=new u.a(c,a.a),this._frameSequenceChecker=new l.a(a.c),this._labels=n,this._config_params=t,this._networkBasePath=s,this._load_options=f,this._load_options.cacheStrategy="networkOnly",this._load_options.transformUrlDelegate||(this._load_options.transformUrlDelegate=function(e){var n=e.split("/"),t=n[n.length-1];return r[t]})}return i()(e,[{key:"load",value:function(){var e=this;return this._canvas=document.createElement("canvas"),c.load(this._networkBasePath,this._load_options).then((function(n){e._runner=n}))}},{key:"process",value:function(e){var n=this;return this._minRestTimeHelper.scheduleNext((function(){return Promise.resolve().then((function(){return n._frameSequenceChecker.push(e.frameTimestamp)})).then((function(){return n._minRestTimeProcess(e)}))}))}},{key:"_minRestTimeProcess",value:function(){throw"You must implement _minRestTimeProcess"}},{key:"processImageData",value:function(e){return this._drawToCanvas(this._canvas,e),c.Image.getImageArray(this._canvas,{dstW:this._config_params.input_width,dstH:this._config_params.input_height,order:this._config_params.order,color:this._config_params.colorspace,bias:this._config_params.bias,scale:this._config_params.scale}).then((function(e){return e}))}},{key:"_drawToCanvas",value:function(e,n){e.width=n.width,e.height=n.height,e.getContext("2d").putImageData(n,0,0)}},{key:"runTheNetwork",value:function(e){var n=this;return this._runner.getInputViews()[0].set(e),this._runner.run().then((function(){return n.getNetworkOutput()}))}},{key:"getNetworkOutput",value:function(){var e=this._runner.getOutputViews(),n=[];return e.forEach((function(e){n.push(e.toActual())})),n}},{key:"getResultFromNetworkOutput",value:function(e){for(var n={},t=0;t<e.length;t++){var r=e[t],o={};if(this._labels[t].labels)for(var s=0;s<r.length;++s)o[this._labels[t].labels[s]]=r[s];else o=r;n[this._labels[t].key]=o}return n}},{key:"terminate",value:function(){}}]),e}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,n,t){var r={"./network/graph_webassembly.json":101};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=100},function(e,n,t){e.exports=t.p+"1f29f1818ac21bced3d7e490fda2d0b8.json"},function(e,n,t){var r={"./network/graph_webgl_16384.json":103};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=102},function(e,n,t){e.exports=t.p+"ac9286d87b08305666c44e9461671789.json"},function(e,n,t){var r={"./network/graph_webgl_4096.json":105};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=104},function(e,n,t){e.exports=t.p+"1e83f5049823fe8f5da442b50ddbea1c.json"},function(e,n,t){var r={"./network/graph_webgl_8192.json":107};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=106},function(e,n,t){e.exports=t.p+"c950b1a7f7266fe387d95ee956f85f3f.json"},function(e,n,t){var r={"./network/graph_webgpu.json":109};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=108},function(e,n,t){e.exports=t.p+"2125d8164ed0cdb4d0071c6df436ea68.json"},function(e,n,t){var r={"./network/kernels_asmjs.js":111};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=110},function(e,n,t){e.exports=t.p+"a3c5c3df5b6afa17fa5ce91acded5189.js"},function(e,n,t){var r={"./network/kernels_asmjs.js.mem":113};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=112},function(e,n,t){e.exports=t.p+"8ba8ac87051cd6d8990cd17acb4151df.mem"},function(e,n,t){var r={"./network/kernels_webassembly.js":115};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=114},function(e,n,t){e.exports=t.p+"fb066dc81ab7d42381a334bc0adde907.js"},function(e,n,t){var r={"./network/kernels_webassembly.wasm":117};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=116},function(e,n,t){e.exports=t.p+"e8a9acc5b99a741daa2ed7b4a2d5372e.wasm"},function(e,n,t){var r={"./network/kernels_webgpu.metal":119};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=118},function(e,n,t){e.exports=t.p+"b8b5b18d3483d1b466f36048afab3058.metal"},function(e,n,t){var r={"./network/weight_webassembly.bin":121};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=120},function(e,n,t){e.exports=t.p+"43b362e5b0681e3e81a52900ac429948.bin"},function(e,n,t){var r={"./network/weight_webgl_16384.bin":123};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=122},function(e,n,t){e.exports=t.p+"43b362e5b0681e3e81a52900ac429948.bin"},function(e,n,t){var r={"./network/weight_webgl_4096.bin":125};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=124},function(e,n,t){e.exports=t.p+"43b362e5b0681e3e81a52900ac429948.bin"},function(e,n,t){var r={"./network/weight_webgl_8192.bin":127};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=126},function(e,n,t){e.exports=t.p+"43b362e5b0681e3e81a52900ac429948.bin"},function(e,n,t){var r={"./network/weight_webgpu.bin":129};function o(e){var n=s(e);return t(n)}function s(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=128},function(e,n,t){e.exports=t.p+"1821d4087ced9713ca06c239daa62f3e.bin"}])]);