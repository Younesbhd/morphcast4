(window.webpackJsonpCY=window.webpackJsonpCY||[]).push([[6],{282:function(t,e,n){var r={"./network/graph_webassembly.json":283};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=282},283:function(t,e,n){t.exports=n.p+"cbbbb6b7d52312538b10910cf5827a28.json"},284:function(t,e,n){var r={"./network/graph_webgl_16384.json":285};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=284},285:function(t,e,n){t.exports=n.p+"cb9a3c122f5f0378e58fb6712cdcad54.json"},286:function(t,e,n){var r={"./network/graph_webgl_4096.json":287};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=286},287:function(t,e,n){t.exports=n.p+"d1b3b7137e01dc5449793b0d826501a8.json"},288:function(t,e,n){var r={"./network/graph_webgl_8192.json":289};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=288},289:function(t,e,n){t.exports=n.p+"c84e83c08ce00bc23a7168766ed40f06.json"},290:function(t,e,n){var r={"./network/graph_webgpu.json":291};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=290},291:function(t,e,n){t.exports=n.p+"f393d5b3c481eae6ab8008a007d4c991.json"},292:function(t,e,n){var r={"./network/kernels_asmjs.js":293};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=292},293:function(t,e,n){t.exports=n.p+"584e43937f091f375c2710a48a892a61.js"},294:function(t,e,n){var r={"./network/kernels_asmjs.js.mem":295};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=294},295:function(t,e,n){t.exports=n.p+"cb267e8c6d8864cb6e42cb5157751fb9.mem"},296:function(t,e,n){var r={"./network/kernels_webassembly.js":297};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=296},297:function(t,e,n){t.exports=n.p+"5df215211146e67416ca99bdfb5c7b8c.js"},298:function(t,e,n){var r={"./network/kernels_webassembly.wasm":299};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=298},299:function(t,e,n){t.exports=n.p+"2d19d6785efeed58b2b1a8bd1a8ece44.wasm"},300:function(t,e,n){var r={"./network/kernels_webgpu.metal":301};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=300},301:function(t,e,n){t.exports=n.p+"4cbfa10be632ea4cea403ea22029adc1.metal"},302:function(t,e,n){var r={"./network/weight_webassembly.bin":303};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=302},303:function(t,e,n){t.exports=n.p+"d58d7da1024671aecccd7ed9d7ef942e.bin"},304:function(t,e,n){var r={"./network/weight_webgl_16384.bin":305};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=304},305:function(t,e,n){t.exports=n.p+"d58d7da1024671aecccd7ed9d7ef942e.bin"},306:function(t,e,n){var r={"./network/weight_webgl_4096.bin":307};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=306},307:function(t,e,n){t.exports=n.p+"d58d7da1024671aecccd7ed9d7ef942e.bin"},308:function(t,e,n){var r={"./network/weight_webgl_8192.bin":309};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=308},309:function(t,e,n){t.exports=n.p+"d58d7da1024671aecccd7ed9d7ef942e.bin"},310:function(t,e,n){var r={"./network/weight_webgpu.bin":311};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=310},311:function(t,e,n){t.exports=n.p+"181d9ec11b41ef3bfd9f8a07f4e80492.bin"},47:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(1),s=n.n(i),u=n(8),a=n.n(u),c=n(9),l=n.n(c),f=n(5),h=n.n(f),p=n(54),_=n(56),d=n(58),m=n(60),v=n(51),w=n(4);function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var y=[{key:"pose",labels:["pitch","yaw","roll"]}],b={input_width:48,input_height:48,order:p.Image.Order.HWC,colorspace:p.Image.Color.RGB,bias:[127.5,127.5,127.5],scale:[127.5,127.5,127.5],task:["regression_input_preprocessed"],threshold:NaN},k="./network/",O={"graph_webassembly.json":n(282)(k+"graph_webassembly.json"),"graph_webgl_16384.json":n(284)(k+"graph_webgl_16384.json"),"graph_webgl_4096.json":n(286)(k+"graph_webgl_4096.json"),"graph_webgl_8192.json":n(288)(k+"graph_webgl_8192.json"),"graph_webgpu.json":n(290)(k+"graph_webgpu.json"),"kernels_asmjs.js":n(292)(k+"kernels_asmjs.js"),"kernels_asmjs.js.mem":n(294)(k+"kernels_asmjs.js.mem"),"kernels_webassembly.js":n(296)(k+"kernels_webassembly.js"),"kernels_webassembly.wasm":n(298)(k+"kernels_webassembly.wasm"),"kernels_webgpu.metal":n(300)(k+"kernels_webgpu.metal"),"weight_webassembly.bin":n(302)(k+"weight_webassembly.bin"),"weight_webgl_16384.bin":n(304)(k+"weight_webgl_16384.bin"),"weight_webgl_4096.bin":n(306)(k+"weight_webgl_4096.bin"),"weight_webgl_8192.bin":n(308)(k+"weight_webgl_8192.bin"),"weight_webgpu.bin":n(310)(k+"weight_webgpu.bin")};function E(t){return t>1.5?1.5:t<-1.5?-1.5:t}var x=function(t){a()(n,t);var e=g(n);function n(t){var r,i;return o()(this,n),(i=e.call(this,y,b,O,k,t))._clipFilterMap=[new m.a({boundAt10Fps:.07,windowLength:3}),new m.a({boundAt10Fps:.07,windowLength:3}),new m.a({boundAt10Fps:.07,windowLength:3})],i.setSmoothness(null!==(r=t.conf.smoothness)&&void 0!==r?r:.65),i}return s()(n,[{key:"setSmoothness",value:function(t){this._useTimeFilters=0!==t;var e=1-t;this._lerp=new d.d(3,{type:d.b.EMA,alphaAt10Fps:e})}},{key:"_minRestTimeProcess",value:function(t){var e=this,n=t.allData,r=t.frameTimestamp,o=Object(v.a)({allData:n},"face_base",w.e).output;return this.runTheNetwork(o).then((function(t){var n=e.getResultFromNetworkOutput(t),o=n.pose,i=o.pitch,s=o.yaw,u=o.roll,a=[E(i),E(s),E(u)];e._useTimeFilters&&(a=a.map((function(t,n){return e._clipFilterMap[n].next(t,r)})));var c=e._lerp.next(a,r),l={pitch:c[0],yaw:c[1],roll:c[2]};return n.pose=l,{type:"face_pose",output:n,private:{rawPose:n.pose}}}))}}]),n}(_.a);e.default=x},51:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(4);function o(t,e){var n=t.allData,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.d,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){return t},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!0},u=n.find((function(t){return t.type===e}));if(u){var a=i(u);if(null!=a&&s(u,a))return a}throw o}},52:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(0),o=n.n(r),i=n(1),s=n.n(i),u=function(){function t(e,n){o()(this,t),this._minRestTime=e,this._lastDoneTime=0,this._canSchedule=!0,this._busyReject=n}return s()(t,[{key:"remainingMs",value:function(){return Math.max(0,this._minRestTime-(Date.now()-this._lastDoneTime))}},{key:"canSchedule",value:function(){return this._canSchedule&&0===this.remainingMs()}},{key:"scheduleNext",value:function(t){var e=this;return this.canSchedule()?(this._canSchedule=!1,Promise.resolve(t()).then((function(t){return e.processDone(),t})).catch((function(t){throw e.processDone(),t}))):Promise.reject(this._busyReject)}},{key:"processDone",value:function(){this._canSchedule=!0,this._lastDoneTime=Date.now()}}]),t}()},53:function(t,e,n){var r=n(57);function o(){return"undefined"!=typeof Reflect&&Reflect.get?(t.exports=o=Reflect.get,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=o=function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},t.exports.__esModule=!0,t.exports.default=t.exports),o.apply(this,arguments)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},55:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(0),o=n.n(r),i=n(1),s=n.n(i),u=function(){function t(e){o()(this,t),this._lastTimestamp=null,this._reject=e}return s()(t,[{key:"push",value:function(t){if(null===this._lastTimestamp)this._lastTimestamp=t;else{if(this._lastTimestamp>t)return Promise.reject(this._reject);this._lastTimestamp=t}}}]),t}()},56:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(0),o=n.n(r),i=n(1),s=n.n(i),u=n(4),a=n(52),c=n(54),l=n(55),f=function(){function t(e,n,r,i,s){o()(this,t);var c=s.minRestTime,f=s.conf;this._minRestTimeHelper=new a.a(c,u.a),this._frameSequenceChecker=new l.a(u.c),this._labels=e,this._config_params=n,this._networkBasePath=i,this._load_options=f,this._load_options.cacheStrategy="networkOnly",this._load_options.transformUrlDelegate||(this._load_options.transformUrlDelegate=function(t){var e=t.split("/"),n=e[e.length-1];return r[n]})}return s()(t,[{key:"load",value:function(){var t=this;return this._canvas=document.createElement("canvas"),c.load(this._networkBasePath,this._load_options).then((function(e){t._runner=e}))}},{key:"process",value:function(t){var e=this;return this._minRestTimeHelper.scheduleNext((function(){return Promise.resolve().then((function(){return e._frameSequenceChecker.push(t.frameTimestamp)})).then((function(){return e._minRestTimeProcess(t)}))}))}},{key:"_minRestTimeProcess",value:function(){throw"You must implement _minRestTimeProcess"}},{key:"processImageData",value:function(t){return this._drawToCanvas(this._canvas,t),c.Image.getImageArray(this._canvas,{dstW:this._config_params.input_width,dstH:this._config_params.input_height,order:this._config_params.order,color:this._config_params.colorspace,bias:this._config_params.bias,scale:this._config_params.scale}).then((function(t){return t}))}},{key:"_drawToCanvas",value:function(t,e){t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0)}},{key:"runTheNetwork",value:function(t){var e=this;return this._runner.getInputViews()[0].set(t),this._runner.run().then((function(){return e.getNetworkOutput()}))}},{key:"getNetworkOutput",value:function(){var t=this._runner.getOutputViews(),e=[];return t.forEach((function(t){e.push(t.toActual())})),e}},{key:"getResultFromNetworkOutput",value:function(t){for(var e={},n=0;n<t.length;n++){var r=t[n],o={};if(this._labels[n].labels)for(var i=0;i<r.length;++i)o[this._labels[n].labels[i]]=r[i];else o=r;e[this._labels[n].key]=o}return e}},{key:"terminate",value:function(){}}]),t}()},57:function(t,e,n){var r=n(5);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},58:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return E})),n.d(e,"d",(function(){return x}));var r=n(53),o=n.n(r),i=n(8),s=n.n(i),u=n(9),a=n.n(u),c=n(5),l=n.n(c),f=n(0),h=n.n(f),p=n(1),_=n.n(p);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l()(t);if(e){var o=l()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a()(this,n)}}var m=function(){function t(e){if(h()(this,t),!e||e<0||e>1)throw new TypeError("Bad or more arguments needed");this._alphaAt10Fps=e,this._lastTimestampMs=null}return _()(t,[{key:"alphaAt10Fps",get:function(){return this._alphaAt10Fps}},{key:"lastTimestampMs",get:function(){return this._lastTimestampMs}},{key:"update",value:function(e){var n,r=e-this._lastTimestampMs;if(null===this._lastTimestampMs||r>=t.MAX_PERIOD_ALLOWED_MS)n=1;else{if(r<0||isNaN(e))throw new TypeError("Missing or bad timestamp during push (not an integer or antecedent to the one stored). Stored timestamp: "+this._lastTimestampMs+", pushed: "+e);n=t._computeAlpha(this._alphaAt10Fps,r)}return this._lastTimestampMs=e,n}}],[{key:"MAX_PERIOD_ALLOWED_MS",get:function(){return 1e3}},{key:"_computeAlpha",value:function(t,e){var n=e/1e3,r=Math.pow(1-t,10);return 1-Math.pow(r,n)}}]),t}(),v=_()((function t(e,n){var r=this;if(h()(this,t),(this instanceof t?this.constructor:void 0)===e||(this instanceof t?this.constructor:void 0)===t)throw new TypeError("Cannot construct abstract instances directly");n.forEach((function(t){if("function"!=typeof r[t])throw new TypeError("Must override method "+t)}))})),w=function(t){s()(n,t);var e=d(n);function n(){return h()(this,n),e.call(this,n,["push"])}return _()(n)}(v),g=function(t){s()(n,t);var e=d(n);function n(){var t;return h()(this,n),(t=e.call(this))._lastValue=null,t}return _()(n,[{key:"value",get:function(){return this._lastValue}},{key:"push",value:function(t){this._lastValue=t}}]),n}(w),y=function(t){s()(n,t);var e=d(n);function n(){var t;return h()(this,n),(t=e.call(this))._lastEma=null,t}return _()(n,[{key:"ema",get:function(){return this._lastEma}},{key:"push",value:function(t,e){if(null===this._lastEma)this._lastEma=t;else{if(isNaN(e))throw TypeError("Bad or missing alpha argument.");this._lastEma=(1-e)*this._lastEma+e*t}}}]),n}(w),b=function(t){s()(n,t);var e=d(n);function n(){var t;return h()(this,n),(t=e.call(this))._lastEmvar=null,t}return _()(n,[{key:"emvar",get:function(){return this._lastEmvar}},{key:"push",value:function(t,e){var r=t-this.ema;return o()(l()(n.prototype),"push",this).call(this,t,e),null===this._lastEmvar?(this._lastEmvar=0,this._lastEmvar):(this._lastEmvar=(1-e)*(this._lastEmvar+e*Math.pow(r,2)),this._lastEmvar)}}]),n}(y),k=function(t){s()(n,t);var e=d(n);function n(){return h()(this,n),e.call(this,n,["next"])}return _()(n)}(v),O={EMA:Symbol("ema"),EMVAR:Symbol("emvar"),NONE:Symbol("none")},E=function(t){s()(n,t);var e=d(n);function n(t){var r,o=t.type,i=void 0===o?O.EMVAR:o,s=t.alphaAt10Fps;switch(h()(this,n),r=e.call(this),i){case O.EMA:case O.EMVAR:r._processor=new b,r._alphaCalculator=new m(s);break;case O.NONE:r._processor=new g,r._alphaCalculator={update:function(){return null}};break;default:throw new TypeError("Not implemented")}return r._type=i,r}return _()(n,[{key:"next",value:function(t,e){var n=this._alphaCalculator.update(e);switch(this._processor.push(t,n),this._type){case O.EMVAR:return this._processor.emvar;case O.EMA:return this._processor.ema;case O.NONE:return this._processor.value}}},{key:"statistics",get:function(){return this._processor}}]),n}(k),x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:O.NONE};h()(this,t),this._filters=new Array(e);for(var r=0;r<e;r++)this._filters[r]=new E(n)}return _()(t,[{key:"next",value:function(t,e){if(t.length!==this._filters.length)throw new TypeError("Wrong length of array in input.");return this._filters.map((function(n,r){return n.next(t[r],e)}))}}]),t}()},59:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n(8),o=n.n(r),i=n(9),s=n.n(i),u=n(5),a=n.n(u),c=n(0),l=n.n(c),f=n(1),h=n.n(f);function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a()(t);if(e){var o=a()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s()(this,n)}}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=d(t),r=t.map((function(t){var e=t-n;return e*e})),o=r.reduce((function(t,e){return t+e}),0);return o/=r.length-e,Math.sqrt(o)}function d(t){return t.reduce((function(t,e){return t+e}),0)/t.length}var m=function(t){o()(n,t);var e=p(n);function n(){return l()(this,n),e.apply(this,arguments)}return h()(n,[{key:"avg",value:function(){if(0===this.length)throw new TypeError("Window is empty. Cannot compute average.");return d(this._queue)}},{key:"stddev",value:function(){if(0===this.length)throw new TypeError("Window is empty. Cannot compute standard deviation.");return _(this._queue)}},{key:"sample_stddev",value:function(){if(0===this.length)throw new TypeError("Window is empty. Cannot compute standard deviation.");if(1===this.length)throw new RangeError("Cannot estimate sample standard deviation for only one value.");return _(this._queue,1)}}]),n}(function(){function t(e){if(l()(this,t),!Number.isInteger(e)||e<1)throw new RangeError("Maximum window size must be an integer greater than zero.");this._maxLen=e,this._queue=[]}return h()(t,[{key:"enqueue",value:function(t){if(this._queue.unshift(t),this._queue.length>this._maxLen)return this._queue.pop()}},{key:"length",get:function(){return this._queue.length}}]),t}())},60:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var r=n(0),o=n.n(r),i=n(1),s=n.n(i),u=n(53),a=n.n(u),c=n(8),l=n.n(c),f=n(9),h=n.n(f),p=n(5),_=n.n(p);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_()(t);if(e){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var m=function(t){l()(n,t);var e=d(n);function n(t){var r,i=t.windowLength,s=void 0===i?3:i;return o()(this,n),(r=e.call(this,s))._maxWindowLength=s,r}return s()(n,[{key:"push",value:function(t,e){var r;return r=this._isWindowFull()?n._clippingValue(t,this.avg(),e):t,a()(_()(n.prototype),"enqueue",this).call(this,r),r}},{key:"_isWindowFull",value:function(){return a()(_()(n.prototype),"length",this)>=this._maxWindowLength}}],[{key:"_clippingValue",value:function(t,e,n){var r=e-n,o=e+n;return Math.min(Math.max(t,r),o)}}]),n}(n(59).a),v=function(){function t(e){o()(this,t),this.boundAt10Fps=e,this.lastTimestampMs=null}return s()(t,[{key:"update",value:function(t){var e,n=t-this.lastTimestampMs;if(null===this.lastTimestampMs)e=this.boundAt10Fps;else{if(n<0||isNaN(t))throw new TypeError("Missing or bad timestamp during push (not an integer or antecedent to the one stored). Stored timestamp: "+this.lastTimestampMs+", pushed: "+t);e=this.boundAt10Fps*n/100}return this.lastTimestampMs=t,e}}]),t}(),w=function(){function t(e){var n=e.boundAt10Fps,r=e.windowLength;o()(this,t),this._clippingFilter=new m({windowLength:r}),this._boundCalculator=new v(n)}return s()(t,[{key:"next",value:function(t,e){var n=this._boundCalculator.update(e);return this._clippingFilter.push(t,n)}}]),t}()}}]);