(window.webpackJsonpCY=window.webpackJsonpCY||[]).push([[14],{160:function(t,e,r){t.exports=function(){return r(64)('!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="https://ai-sdk.morphcast.com/stage/",r(r.s=21)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(7),i=r(8),o=r(4),s=r(9);t.exports=function(t,e){return n(t)||i(t,e)||o(t,e)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(10),i=r(11),o=r(4),s=r(12);t.exports=function(t){return n(t)||i(t)||o(t)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(5);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==r.return||r.return()}finally{if(a)throw i}}return o}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n=r(5);t.exports=function(t){if(Array.isArray(t))return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var n={"./network/wasmpico.wasm":14};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module \'"+t+"\'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=13},function(t,e,r){t.exports=r.p+"5b9c3bbc182b9cc153bdbf2827cadc87.wasm"},function(t,e,r){var n={"./network/wasmpico.js":16};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module \'"+t+"\'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=15},function(t,e,r){t.exports=r.p+"278b504918249b84062d43e42805f00f.js"},function(t,e,r){var n={"./network/pico.min.js":18};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module \'"+t+"\'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=17},function(t,e,r){t.exports=r.p+"cc098647df2cf655ba14e9e3df65f543.js"},function(t,e,r){var n={"./network/facefinder":20};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module \'"+t+"\'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=19},function(t,e,r){t.exports=r.p+"e62afb44aecafcaa79c4902c18f385c7.bin"},function(t,e,r){"use strict";r.r(e);var n=r(0),i=r.n(n),o=r(1),s=r.n(o),a=0,u=function(){function t(e){i()(this,t),this._worker=e,this._requestsMap={}}return s()(t,[{key:"onmessage",set:function(t){this._worker.onmessage=t}},{key:"onMessage",value:function(t){var e=this._requestsMap[t.data[c.messageIdProperty()]];if(void 0===e)throw new Error("Got a response from with id "+t.data[c.messageIdProperty()]+" from worker, but request has not been mapped.");delete this._requestsMap[t.data[c.messageIdProperty()]],delete t.data[c.messageIdProperty()],e(t)}},{key:"postMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!=e?this._worker.postMessage(t,e):this._worker.postMessage(t)}},{key:"postMessageWithPromise",value:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e[c.messageIdProperty()]=t._nextId();var i=new Promise((function(t){r._requestsMap[e[c.messageIdProperty()]]=t}));return this.postMessage(e,n),i}},{key:"terminate",value:function(){this._worker.terminate()}}],[{key:"_nextId",value:function(){return++a}}]),t}(),c=function(){function t(){i()(this,t)}return s()(t,null,[{key:"isPromiseMessage",value:function(e){return void 0!==e.data[t.messageIdProperty()]}},{key:"messageIdProperty",value:function(){return"_messageId"}}]),t}(),f=function(){function t(e){i()(this,t),this._worker=e,this._listeners={},this._registerToOnMessage()}return s()(t,[{key:"_registerToOnMessage",value:function(){var t=this;this._worker.onmessage=function(e){return t._dispatch(e)}}},{key:"_dispatch",value:function(t){var e=this,r=this._getListenerOrDefaultFor(t.data.type)(t);void 0!==r&&Promise.resolve(r).then((function(t){null!=t.transferList?(delete t.transferList,e._worker.postMessage(t,t.transferList)):e._worker.postMessage(t)}))}},{key:"setListenerFor",value:function(t,e){var r=this;this._listeners[t]=function(t){var n=e(t);return c.isPromiseMessage(t)&&r._handlePromiseMessage(t,n),n}}},{key:"delegateEventToWorker",value:function(t){var e=this;this.setListenerFor(t,(function(t){e._worker.onMessage(t)}))}},{key:"_handlePromiseMessage",value:function(t,e){Promise.resolve(e).then((function(e){null!=e?e[c.messageIdProperty()]=t.data[c.messageIdProperty()]:console.warn("Sent a postMessageWithPromise("+JSON.stringify(t.data).substr(0,100)+"), but got "+e+" response!")}))}},{key:"_getListenerOrDefaultFor",value:function(t){return this._listeners[t]||function(){return console.warn("Listener for type "+t+" not registered!")}}}]),t}(),l=r(2),h=r.n(l),d=function(){function t(){i()(this,t)}return s()(t,null,[{key:"create",value:function(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=new Array(e).fill(0);return r}},{key:"identity_matrix",value:function(e){for(var r=t.create(e,e),n=0;n<e;++n)r[n][n]=1;return r}},{key:"get_dims",value:function(t){return[t.length,t[0].length]}},{key:"multiply_by_scalar",value:function(e,r){for(var n=t.get_dims(r),i=h()(n,2),o=i[0],s=i[1],a=t.create(o,s),u=0;u<o;++u)for(var c=0;c<o;++c)a[u][c]=r[u][c]*e;return a}},{key:"sum",value:function(e,r){var n=t.get_dims(e),i=h()(n,2),o=i[0],s=i[1],a=t.get_dims(r),u=h()(a,2),c=u[0],f=u[1];if(o!==c||s!==f)throw new Error("Invalid dimensions for sum: the two matrix should have the same dimension "+o+"x"+s+" "+c+"x"+f);for(var l=t.create(o,s),d=0;d<o;++d)for(var _=0;_<s;++_){var p=e[d][_]+r[d][_];l[d][_]=p}return l}},{key:"subtract",value:function(e,r){var n=t.get_dims(e),i=h()(n,2),o=i[0],s=i[1],a=t.get_dims(r),u=h()(a,2),c=u[0],f=u[1];if(o!==c||s!==f)throw new Error("Invalid dimensions for subtract: the two matrix should have the same dimension "+o+"x"+s+" "+c+"x"+f);for(var l=t.create(o,s),d=0;d<o;++d)for(var _=0;_<s;++_)l[d][_]=e[d][_]-r[d][_];return l}},{key:"multiply",value:function(e,r){var n=e.length,i=e[0].length,o=r.length,s=r[0].length;if(i!==o)throw new Error("Invalid! dimensions are "+n+"x"+i+" and "+o+"x"+s);for(var a=t.create(n,s),u=0;u<n;++u)for(var c=0;c<s;++c){a[u][c]=0;for(var f=0;f<i;++f)a[u][c]+=e[u][f]*r[f][c]}return a}},{key:"transpose",value:function(t){for(var e=t.length,r=t[0].length,n=[],i=0;i<r;i++)n[i]=Array(e);for(var o=0;o<e;o++)for(var s=0;s<r;s++)n[s][o]=t[o][s];return n}},{key:"invert",value:function(t){if(t.length===t[0].length){var e=0,r=0,n=0,i=t.length,o=0,s=[],a=[];for(e=0;e<i;e+=1)for(s[s.length]=[],a[a.length]=[],n=0;n<i;n+=1)s[e][n]=e===n?1:0,a[e][n]=t[e][n];for(e=0;e<i;e+=1){if(0===(o=a[e][e])){for(r=e+1;r<i;r+=1)if(0!==a[r][e]){for(n=0;n<i;n++)o=a[e][n],a[e][n]=a[r][n],a[r][n]=o,o=s[e][n],s[e][n]=s[r][n],s[r][n]=o;break}if(0===(o=a[e][e]))throw new Error("matrix is not invertible")}for(n=0;n<i;n++)a[e][n]=a[e][n]/o,s[e][n]=s[e][n]/o;for(r=0;r<i;r++)if(r!==e)for(o=a[r][e],n=0;n<i;n++)a[r][n]-=o*a[e][n],s[r][n]-=o*s[e][n]}return s}}}]),t}(),_=function(){function t(e,r,n,o,s){i()(this,t),this._Q=e,this._R=r,this._P=n,this._H=o,this._make_f=s;var a=s(0).length,u=o.length;this._current_state=d.transpose([new Array(a).fill(0)]),t.check_sizes(e,r,n,o,s,a,u)}return s()(t,[{key:"predict",value:function(t){var e=this._make_f(t);return[d.multiply(e,this._current_state),d.sum(d.multiply(d.multiply(e,this._P),d.transpose(e)),this._Q)]}},{key:"correct",value:function(t,e,r){var n=d.multiply(this._H,e),i=d.multiply(n,d.transpose(this._H)),o=d.sum(i,this._R),s=d.invert(o),a=d.multiply(e,d.transpose(this._H)),u=d.multiply(a,s),c=d.subtract([r],d.transpose(d.multiply(this._H,t))),f=d.multiply(u,d.transpose(c));this._current_state=d.sum(t,f);var l=d.get_dims(this._P),_=h()(l,1)[0],p=d.identity_matrix(_);this._P=d.multiply(d.subtract(p,d.multiply(u,this._H)),e)}}],[{key:"check_sizes",value:function(e,r,n,i,o,s,a){var u=d.get_dims(e),c=h()(u,2),f=c[0],l=c[1];t.assert(f===l,"Q matrix must be square"),t.assert(f===s,"Q matrix must have the same dimension of the state");var _=d.get_dims(r),p=h()(_,2),m=p[0],v=p[1];t.assert(m===v,"R matrix must be square"),t.assert(m===a,"R matrix must have the same dimension of the observation");var y=d.get_dims(n),g=h()(y,2),x=g[0],b=g[1];t.assert(x===b,"P matrix must be square"),t.assert(x===s,"P matrix must have the same dimension of the state");var w=d.get_dims(i),k=h()(w,2),M=k[0],O=k[1];t.assert(M===a,"H must have a number of rows corresponding to the dimension of the observation"),t.assert(O===s,"H must have a number of columns corresponding to the dimension of the state");var j=d.get_dims(o(.001)),I=h()(j,2),P=I[0],A=I[1];t.assert(P===A,"F matrix must be square"),t.assert(P===s,"F matrix must have the same dimension of the state")}},{key:"assert",value:function(t,e){if(!t)throw new Error(e)}}]),t}(),p=r(6),m=r.n(p),v=r(3),y=r.n(v);function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){m()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var k=Object.freeze({INIT:"INIT",TRACK_OK:"TRACK_OK",RECOVERING:"RECOVERING"}),M=function(){function t(e,r,n,o,s,a,u){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;i()(this,t),this._iteration=0,this._startup_iterations=e,this._bounding_box_expansion=r,this._max_lost_objects=n,this._lost_objects=0,this._trackers=[],this._filter_builder=o,this._detection_function=s,this._prediction_to_face=function(t){return t},this._detection_parameters=a,this._tracking_parameters=u,this._periodic_recalc=c,this._max_faces=f}return s()(t,[{key:"set_prediction_to_face",value:function(t){this._prediction_to_face=t}},{key:"set_time_mode",value:function(t){this._time_mode=t}},{key:"_assign_faces_to_trackers",value:function(e,r){var n,i=[],o=b(this._trackers);try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s.predict(r),u={};u.state=this._prediction_to_face(a[0]),u.tracker=s,u.predictor_output=a,i.push(u)}}catch(t){o.e(t)}finally{o.f()}var c,f=[],l=b(e);try{for(l.s();!(c=l.n()).done;){for(var h=c.value,d=Number.MAX_VALUE,_=-1,p=0;p<i.length;++p){var m=i[p],v=t.calculate_distance(h,m.state);v<d&&(d=v,_=p)}-1!==_&&(f.push(i[_]),i.splice(_,1))}}catch(t){l.e(t)}finally{l.f()}for(var y=0,g=i;y<g.length;y++){var x=g[y],w=this._trackers.indexOf(x.tracker);-1!==w&&this._trackers.splice(w,1)}return f}},{key:"track",value:function(t){var e=performance.now(),r=this._time_mode&&e-this._last_tick||1;this._last_tick=e,(this._lost_objects>=this._max_lost_objects||0===this._trackers.length)&&(this._iteration=0,this._lost_objects=0);var n=this._iteration;this._iteration++,this._periodic_recalc&&(this._iteration=this._iteration%this._periodic_recalc);var i=k.INIT;if(0===n){this._trackers=[];var o,s=this._detection_function(t,this._detection_parameters),a=b(s.slice(0,1));try{for(a.s();!(o=a.n()).done;){var u=o.value;this._trackers.push(this._filter_builder([u.y,u.x,u.y+u.height,u.x+u.width]))}}catch(t){a.e(t)}finally{a.f()}return{rects:s,status:i=k.INIT,fullFrameDetection:!0}}if(n<=this._startup_iterations){for(var c=this._detection_function(t,this._detection_parameters),f=this._assign_faces_to_trackers(c,r),l=0;l<f.length;++l){var h=f[l].tracker,d=c[l];h.correct.apply(h,y()(f[l].predictor_output).concat([[d.y,d.x,d.y+d.height,d.x+d.width]]))}return i=k.INIT,{rects:c.slice(0,1),status:i}}var _,p=[],m=0,v=b(this._trackers);try{for(v.s();!(_=v.n()).done;){var g=_.value,w=g.predict(r),M=this._prediction_to_face(w[0]),O=M.y*(1-this._bounding_box_expansion/2),j=M.x*(1-this._bounding_box_expansion/2),I=Math.min(t.height,M.y+M.height*(1+this._bounding_box_expansion/2)),P=Math.min(t.width,M.x+M.width*(1+this._bounding_box_expansion/2)),A=Math.floor(P-j),E=Math.floor(I-O),S=null,F=0;if(A>0&&E>0){for(var T=new Uint8ClampedArray(A*E*4),C=new ImageData(T,A,E),R=Math.floor(O),q=Math.floor(j),D=0;D<E;++D)for(var N=0;N<A;++N)for(var L=D+R,U=N+q,z=0;z<4;++z)T[D*A*4+4*N+z]=t.data[L*t.width*4+4*U+z];var H,K=x({minsize:E/2,maxsize:E},this._tracking_parameters),G=b(this._detection_function(C,K));try{for(G.s();!(H=G.n()).done;){var Q=H.value;Q.x+=j,Q.y+=O,Q.confidence>F&&(F=Q.confidence,S=Q)}}catch(t){G.e(t)}finally{G.f()}}null!==S?(m+=1,g.correct.apply(g,y()(w).concat([[S.y,S.x,S.y+S.height,S.x+S.width]])),p.push(S),this._lost_objects=Math.max(this._lost_objects-1,0)):this._lost_objects++}}catch(t){v.e(t)}finally{v.f()}return{rects:p,status:i=m==this._trackers.length?k.TRACK_OK:k.RECOVERING}}}],[{key:"calculate_distance",value:function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}}]),t}();function O(t,e){return Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y))*Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x))/Math.min(t.width*t.height,e.width*e.height)}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return t.filter((function(t,r,n){for(var i=0;i<n.length;++i){if(r!==i)if(O(t,n[i])>e&&t.width<n[i].width)return!1}return!0}))}var I=function(){function t(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:320,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:320,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6;i()(this,t),this._Module=e,this._Module.onRuntimeInitialized=function(){r.loadResolve()},this._width=n,this._height=o,this._max_detections=s,this._minConfidence=a}return s()(t,[{key:"load",value:function(){var t=this;return new Promise((function(e){importScripts(t._Module.locateFile("wasmpico.js")),t.loadResolve=e})).then((function(){return t._prcsq=self.Module._malloc(16*t._max_detections),t._ppixels=self.Module._malloc(t._width*t._height),t._rcsq=new Float32Array(self.Module.HEAPU8.buffer,t._prcsq,t._max_detections),t._pixels=new Uint8Array(self.Module.HEAP8.buffer,t._ppixels,t._width*t._height),t})).catch((function(){return null}))}},{key:"store_grayscale_image",value:function(t,e,r){for(var n=0;n<e;++n)for(var i=0;i<r;++i)this._pixels[n*r+i]=(2*t[4*n*r+4*i]+7*t[4*n*r+4*i+1]+1*t[4*n*r+4*i+2])/10}},{key:"faces_from_raw",value:function(t,e){for(var r=[],n=0;n<t;++n){var i=4*n,o=this._rcsq[i+3];if(!(o<e)){var s=this._rcsq[i+2],a={y:this._rcsq[i]-s/2,x:this._rcsq[i+1]-s/2,width:s,height:s,confidence:o};r.push(a)}}return j(r)}},{key:"detect_faces",value:function(t,e,r){var n=r&&r<this._max_detections&&r||this._max_detections;this.store_grayscale_image(t.data,t.height,t.width);var i=self.Module._find_faces(this._prcsq,n,this._ppixels,t.height,t.width,t.width,e.scalefactor,e.shiftfactor,e.minsize,e.maxsize);return i=self.Module._cluster_detections(this._prcsq,i),this.faces_from_raw(i,this._minConfidence)}}]),t}();function P(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return A(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var E,S=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:320,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:320,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6;i()(this,t),this._Module=e,this._width=r,this._height=n,this._max_detections=o,this._minConfidence=s,this._pixels=new Uint8Array(this._width*this._height)}return s()(t,[{key:"load",value:function(){var t=this;return importScripts(this._Module.locateFile("pico.min.js")),new Promise((function(e){fetch(t._Module.locateFile("facefinder")).then((function(r){r.arrayBuffer().then((function(r){var n=new Int8Array(r);t._classifier=pico.unpack_cascade(n),e(t)}))}))}))}},{key:"store_grayscale_image",value:function(t,e,r){for(var n=0;n<e;++n)for(var i=0;i<r;++i)this._pixels[n*r+i]=(2*t[4*n*r+4*i]+7*t[4*n*r+4*i+1]+1*t[4*n*r+4*i+2])/10}},{key:"faces_from_raw",value:function(t,e){var r,n=[],i=P(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(!(o[3]<e)){var s={y:o[0]-o[2]/2,x:o[1]-o[2]/2,width:o[2],height:o[2],confidence:o[3]};n.push(s)}}}catch(t){i.e(t)}finally{i.f()}return j(n)}},{key:"detect_faces",value:function(t,e){this.store_grayscale_image(t.data,t.height,t.width);var r={pixels:this._pixels,nrows:t.height,ncols:t.width,ldim:t.width},n=pico.run_cascade(r,this._classifier,e);return n=pico.cluster_detections(n,.1),this.faces_from_raw(n,this._minConfidence)}}]),t}(),F=new f(self),T=new u(self),C={shiftfactor:.1,scalefactor:1.1},R={shiftfactor:.1,scalefactor:1.15},q={minConfidence:6,boundingBoxExpansion:.5,startupIterations:5,maxLostObjects:5},D=d.multiply_by_scalar(.04,d.identity_matrix(6)),N=d.multiply_by_scalar(.01,d.identity_matrix(4)),L=d.create(6,6),U=[[1,0,0,0,0,0],[0,1,0,0,0,0],[0,0,1,0,0,0],[0,0,0,1,0,0]],z=function(t){return[[1,0,0,0,t,0],[0,1,0,0,0,t],[0,0,1,0,t,0],[0,0,0,1,0,t],[0,0,0,0,1,0],[0,0,0,0,0,1]]},H={"wasmpico.wasm":r(13)("./network/wasmpico.wasm"),"wasmpico.js":r(15)("./network/wasmpico.js"),"pico.min.js":r(17)("./network/pico.min.js"),facefinder:r(19)("./network/facefinder")};self.Module={locateFile:function(t){return H[t]||t}},F.setListenerFor("load",(function(t){var e=t.data.maxInputFrameSize,r=t.data.minFaceSize;return(t.data.wasm_backend?new I(self.Module,e,e):new S(self.Module,e,e)).load().then((function(n){return C.maxsize=C.maxsize||e,C.minsize=C.minsize||r,q.periodicRecalc=q.periodicRecalc||t.data.periodicRecalc,(E=new M(q.startupIterations,q.boundingBoxExpansion,q.maxLostObjects,(function(){return new _(D,N,L,U,z)}),(function(){return n.detect_faces.apply(n,arguments)}),C,R,q.periodicRecalc)).set_prediction_to_face((function(t){return{y:t[0][0],x:t[1][0],width:t[2][0]-t[0][0],height:t[3][0]-t[1][0]}})),E.set_time_mode(!0),{type:"load",value:!0}})).catch((function(){return{type:"load",value:!1}}))})),F.setListenerFor("detect",(function(t){return new Promise((function(e){var r=t.data.imageData,n=E.track(r);e({type:"detect",rects:n.rects,status:n.status,fullFrameDetection:n.fullFrameDetection})}))})),T.postMessage({type:"ready"})}]);',r.p+"8e333bcfa1036a2d075f.worker.js")}},161:function(t,e,r){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=90)}({17:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n=r(18),i=function(){function t(){}return t.getFirstMatch=function(t,e){var r=e.match(t);return r&&r.length>0&&r[1]||""},t.getSecondMatch=function(t,e){var r=e.match(t);return r&&r.length>1&&r[2]||""},t.matchAndReturnConst=function(t,e,r){if(t.test(e))return r},t.getWindowsVersionName=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},t.getMacOSVersionName=function(t){var e=t.split(".").splice(0,2).map((function(t){return parseInt(t,10)||0}));if(e.push(0),10===e[0])switch(e[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},t.getAndroidVersionName=function(t){var e=t.split(".").splice(0,2).map((function(t){return parseInt(t,10)||0}));if(e.push(0),!(1===e[0]&&e[1]<5))return 1===e[0]&&e[1]<6?"Cupcake":1===e[0]&&e[1]>=6?"Donut":2===e[0]&&e[1]<2?"Eclair":2===e[0]&&2===e[1]?"Froyo":2===e[0]&&e[1]>2?"Gingerbread":3===e[0]?"Honeycomb":4===e[0]&&e[1]<1?"Ice Cream Sandwich":4===e[0]&&e[1]<4?"Jelly Bean":4===e[0]&&e[1]>=4?"KitKat":5===e[0]?"Lollipop":6===e[0]?"Marshmallow":7===e[0]?"Nougat":8===e[0]?"Oreo":9===e[0]?"Pie":void 0},t.getVersionPrecision=function(t){return t.split(".").length},t.compareVersions=function(e,r,n){void 0===n&&(n=!1);var i=t.getVersionPrecision(e),s=t.getVersionPrecision(r),a=Math.max(i,s),o=0,u=t.map([e,r],(function(e){var r=a-t.getVersionPrecision(e),n=e+new Array(r+1).join(".0");return t.map(n.split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));for(n&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===o)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},t.map=function(t,e){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(r=0;r<t.length;r+=1)n.push(e(t[r]));return n},t.find=function(t,e){var r,n;if(Array.prototype.find)return Array.prototype.find.call(t,e);for(r=0,n=t.length;r<n;r+=1){var i=t[r];if(e(i,r))return i}},t.assign=function(t){for(var e,r,n=t,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[t].concat(s));var o=function(){var t=s[e];"object"==typeof t&&null!==t&&Object.keys(t).forEach((function(e){n[e]=t[e]}))};for(e=0,r=s.length;e<r;e+=1)o();return t},t.getBrowserAlias=function(t){return n.BROWSER_ALIASES_MAP[t]},t.getBrowserTypeByAlias=function(t){return n.BROWSER_MAP[t]||""},t}();e.default=i,t.exports=e.default},18:function(t,e,r){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(){}var e,r;return t.getParser=function(t,e){if(void 0===e&&(e=!1),"string"!=typeof t)throw new Error("UserAgent should be a string");return new i.default(t,e)},t.parse=function(t){return new i.default(t).getResult()},e=t,(r=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}])&&a(e,r),t}();e.default=o,t.exports=e.default},91:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),a=u(r(95)),o=u(r(17));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(t,e){if(void 0===e&&(e=!1),null==t||""===t)throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==e&&this.parse()}var e=t.prototype;return e.getUA=function(){return this._ua},e.test=function(t){return t.test(this._ua)},e.parseBrowser=function(){var t=this;this.parsedResult.browser={};var e=o.default.find(n.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser},e.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},e.getBrowserName=function(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},e.getBrowserVersion=function(){return this.getBrowser().version},e.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},e.parseOS=function(){var t=this;this.parsedResult.os={};var e=o.default.find(i.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os},e.getOSName=function(t){var e=this.getOS().name;return t?String(e).toLowerCase()||"":e||""},e.getOSVersion=function(){return this.getOS().version},e.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},e.getPlatformType=function(t){void 0===t&&(t=!1);var e=this.getPlatform().type;return t?String(e).toLowerCase()||"":e||""},e.parsePlatform=function(){var t=this;this.parsedResult.platform={};var e=o.default.find(s.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform},e.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},e.getEngineName=function(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},e.parseEngine=function(){var t=this;this.parsedResult.engine={};var e=o.default.find(a.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine},e.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},e.getResult=function(){return o.default.assign({},this.parsedResult)},e.satisfies=function(t){var e=this,r={},n=0,i={},s=0;if(Object.keys(t).forEach((function(e){var a=t[e];"string"==typeof a?(i[e]=a,s+=1):"object"==typeof a&&(r[e]=a,n+=1)})),n>0){var a=Object.keys(r),u=o.default.find(a,(function(t){return e.isOS(t)}));if(u){var c=this.satisfies(r[u]);if(void 0!==c)return c}var l=o.default.find(a,(function(t){return e.isPlatform(t)}));if(l){var f=this.satisfies(r[l]);if(void 0!==f)return f}}if(s>0){var d=Object.keys(i),h=o.default.find(d,(function(t){return e.isBrowser(t,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},e.isBrowser=function(t,e){void 0===e&&(e=!1);var r=this.getBrowserName().toLowerCase(),n=t.toLowerCase(),i=o.default.getBrowserTypeByAlias(n);return e&&i&&(n=i.toLowerCase()),n===r},e.compareVersion=function(t){var e=[0],r=t,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===t[0]||"<"===t[0]?(r=t.substr(1),"="===t[1]?(n=!0,r=t.substr(2)):e=[],">"===t[0]?e.push(1):e.push(-1)):"="===t[0]?r=t.substr(1):"~"===t[0]&&(n=!0,r=t.substr(1)),e.indexOf(o.default.compareVersions(i,r,n))>-1},e.isOS=function(t){return this.getOSName(!0)===String(t).toLowerCase()},e.isPlatform=function(t){return this.getPlatformType(!0)===String(t).toLowerCase()},e.isEngine=function(t){return this.getEngineName(!0)===String(t).toLowerCase()},e.is=function(t,e){return void 0===e&&(e=!1),this.isBrowser(t,e)||this.isOS(t)||this.isPlatform(t)},e.some=function(t){var e=this;return void 0===t&&(t=[]),t.some((function(t){return e.is(t)}))},t}();e.default=c,t.exports=e.default},92:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(t){var e={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/opera/i],describe:function(t){var e={name:"Opera"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe:function(t){var e={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe:function(t){var e={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe:function(t){var e={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe:function(t){var e={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/focus/i],describe:function(t){var e={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/swing/i],describe:function(t){var e={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/coast/i],describe:function(t){var e={name:"Opera Coast"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(t){var e={name:"Opera Touch"},r=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe:function(t){var e={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe:function(t){var e={name:"UC Browser"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe:function(t){var e={name:"Maxthon"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe:function(t){var e={name:"Epiphany"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe:function(t){var e={name:"Puffin"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe:function(t){var e={name:"Sleipnir"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe:function(t){var e={name:"K-Meleon"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe:function(t){var e={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe:function(t){var e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe:function(t){var e={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe:function(t){var e={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe:function(t){var e={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe:function(t){var e={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe:function(t){var e={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe:function(t){var e={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe:function(t){var e={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe:function(t){var e={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe:function(t){var e={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var e={name:"BlackBerry"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e={name:"WebOS Browser"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe:function(t){var e={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe:function(t){var e={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe:function(t){var e={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe:function(t){var e={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe:function(t){var e={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe:function(t){var e={name:"Miui"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe:function(t){var e={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe:function(t){var e={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe:function(t){var e={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:function(t){var e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe:function(t){var e={name:"Android Browser"},r=i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe:function(t){var e={name:"PlayStation 4"},r=i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe:function(t){var e={name:"Safari"},r=i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/.*/i],describe:function(t){var e=-1!==t.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(e,t),version:i.default.getSecondMatch(e,t)}}}];e.default=a,t.exports=e.default},93:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18),a=[{test:[/Roku\/DVP/],describe:function(t){var e=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:s.OS_MAP.Roku,version:e}}},{test:[/windows phone/i],describe:function(t){var e=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.WindowsPhone,version:e}}},{test:[/windows /i],describe:function(t){var e=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=i.default.getWindowsVersionName(e);return{name:s.OS_MAP.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(t){var e={name:s.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe:function(t){var e=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(e),n={name:s.OS_MAP.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(t){var e=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:e}}},{test:function(t){var e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe:function(t){var e=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=i.default.getAndroidVersionName(e),n={name:s.OS_MAP.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:s.OS_MAP.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var e=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||i.default.getFirstMatch(/\bbb(\d+)/i,t);return{name:s.OS_MAP.BlackBerry,version:e}}},{test:[/bada/i],describe:function(t){var e=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.Bada,version:e}}},{test:[/tizen/i],describe:function(t){var e=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.Tizen,version:e}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(t){var e=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.PlayStation4,version:e}}}];e.default=a,t.exports=e.default},94:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(t){var e=i.default.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(t){var e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe:function(t){var e=i.default.getFirstMatch(/(ipod|iphone)/i,t);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(t){return"blackberry"===t.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(t){return"bada"===t.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(t){return"windows phone"===t.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(t){var e=Number(String(t.getOSVersion()).split(".")[0]);return"android"===t.getOSName(!0)&&e>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(t){return"android"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(t){return"macos"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(t){return"windows"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(t){return"linux"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(t){return"playstation 4"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(t){return"roku"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];e.default=a,t.exports=e.default},95:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18),a=[{test:function(t){return"microsoft edge"===t.getBrowserName(!0)},describe:function(t){if(/\sedg\//i.test(t))return{name:s.ENGINE_MAP.Blink};var e=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:s.ENGINE_MAP.EdgeHTML,version:e}}},{test:[/trident/i],describe:function(t){var e={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:function(t){return t.test(/presto/i)},describe:function(t){var e={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:function(t){var e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe:function(t){var e={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(t){var e={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];e.default=a,t.exports=e.default}})},33:function(t,e,r){"use strict";r.r(e);var n=r(7),i=r.n(n),s=r(3),a=r.n(s),o=r(0),u=r.n(o),c=r(1),l=r.n(c),f=r(2),d=r.n(f),h=r(52),p=r(4),m=r(62),_=r(63),v=r(160),g=r.n(v),y=r(16),w=r(18),b=r.n(w),M=r(161),x=function(){var t,e,r=function(){try{if("object"===("undefined"==typeof WebAssembly?"undefined":b()(WebAssembly))&&"function"==typeof WebAssembly.instantiate){var t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){return!1}return!1}()&&(t=Object(M.getParser)(window.navigator.userAgent),!(e=function(e){return t.satisfies(e)})({safari:">0"})||e({safari:">=11.3"})&&e({safari:"<=12.99"})||e({safari:">=14.0"})&&e({safari:"<=99.0"}));return Promise.resolve(r)};var k=r(55),S=function(){function t(e){if(u()(this,t),void 0===e||e<2)throw Error("Undefined or invalid parameter for filter");this._windowSize=e,this._sameInputCounter=1}return l()(t,[{key:"next",value:function(t){return this._updateInputStatus(t),(void 0===this._output||this._canUseInput())&&(this._output=t),this._output}},{key:"_updateInputStatus",value:function(t){t===this._prevInput?this._sameInputCounter++:this._sameInputCounter=1,this._prevInput=t}},{key:"_canUseInput",value:function(){return this._sameInputCounter>=this._windowSize}}]),t}(),P=r(58);function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var F=function(){function t(e){var r=e.rise_alphaAt10Fps,n=e.fall_alphaAt10Fps;u()(this,t),this.lastEma=null,this.alphaCalcUp=new P.a(r),this.alphaCalcDown=new P.a(n)}return l()(t,[{key:"next",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),r=this.alphaCalcUp.update(e),n=this.alphaCalcDown.update(e),i=t>=this.lastEma?r:n;return null!==this.lastEma?this.lastEma=i*t+(1-i)*this.lastEma:this.lastEma=t,this.lastEma}},{key:"reset",value:function(){this.lastEma=0}}]),t}(),E=function(){function t(e){var r=e.minRestTime,n=e.conf;u()(this,t),this._minRestTimeHelper=new h.a(r,p.a),this._frameSequenceChecker=new k.a(p.c),this._maxInputFrameSize=n.maxInputFrameSize||320,this._resetTrackerAfter=n.resetTrackerAfter||1e3,this._multiFace=n.multiFace||!0,this._multiFace&&(this._resetTrackerAfter=1),this._minFaceSizeAt640=n.minFaceSizeAt640||100,this._minFaceSize=Math.max(48,Math.ceil(this._minFaceSizeAt640*this._maxInputFrameSize/640)),this._throttleChangeMs=n.throttleChangeMs||1,this._minConfidenceForTotalFaces=n.minConfidenceForTotalFaces||6,this._minConfidenceForMultifaces=n.minConfidenceForMultifaces||6,this._outlierRemover=new S(3);var i=n.smoothness,s=null!=i?1-i:.17,a=n.riseSmoothness,o=n.fallSmoothness,c=null!=a?1-a:s,l=null!=o?1-o:s;this._lerp=new F({rise_alphaAt10Fps:c,fall_alphaAt10Fps:l})}return l()(t,[{key:"load",value:function(){var t=this;return this._worker=new m.b(new g.a),this._dispatcher=new _.a(this._worker),this._dispatcher.delegateEventToWorker("load"),this._dispatcher.delegateEventToWorker("detect"),this._resize_calculator=new y.a(this._maxInputFrameSize),this._origCanvas=document.createElement("canvas"),this._origCanvasCtx=this._origCanvas.getContext("2d"),this._resampledCanvas=document.createElement("canvas"),this._resampledCanvasCtx=this._resampledCanvas.getContext("2d"),x().then(function(){var e=a()(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r||console.log("Wasm not supported for FACE_DETECTOR module."),e.next=3,new Promise((function(e){t._dispatcher.setListenerFor("ready",(function(){e()}))}));case 3:return e.abrupt("return",t._worker.postMessageWithPromise({type:"load",wasm_backend:r,maxInputFrameSize:t._maxInputFrameSize,periodicRecalc:t._resetTrackerAfter,minFaceSize:t._minFaceSize}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"init",value:function(){}},{key:"_croppedImageData",value:function(t){return this._resampledCanvas.width=t.width,this._resampledCanvas.height=t.height,this._resampledCanvasCtx.drawImage(this._origCanvas,t.x,t.y,t.width,t.height,0,0,this._resampledCanvas.width,this._resampledCanvas.height),this._resampledCanvasCtx.getImageData(0,0,this._resampledCanvas.width,this._resampledCanvas.height)}},{key:"_expandAndClamp",value:function(t,e,r,n,i){var s=t.width*e,a=t.height*r,o=(s-t.width)/2,u=(a-t.height)/2,c=t.x-o,l=t.y-u,f=c+s,d=l+a;c=c>=0?c:0,l=l>=0?l:0,f=f<=n?f:n,d=d<=i?d:i,t.x=c,t.y=l,t.width=f-c,t.height=d-l}},{key:"process",value:function(t){var e=this;return this._minRestTimeHelper.scheduleNext((function(){return Promise.resolve().then((function(){return e._frameSequenceChecker.push(t.frameTimestamp)})).then((function(){return e._minRestTimeProcess(t)}))}))}},{key:"_minRestTimeProcess",value:function(t){var e=this,r=t.result,n=this._resize_calculator.resizedDimensions({width:r.width,height:r.height});this._origCanvas.height=r.height,this._origCanvas.width=r.width,this._origCanvasCtx.putImageData(r,0,0),this._resampledCanvas.width=n.width,this._resampledCanvas.height=n.height,this._resampledCanvasCtx.drawImage(this._origCanvas,0,0,this._resampledCanvas.width,this._resampledCanvas.height);var i=this._resampledCanvasCtx.getImageData(0,0,this._resampledCanvas.width,this._resampledCanvas.height);return this._worker.postMessageWithPromise({type:"detect",imageData:i}).then((function(i){for(var s=i.data.rects,a=i.data.status,o=i.data.fullFrameDetection||!1,u=r.width/n.width,c=[],l=[],f=0;f<s.length;f++){s[f].x=s[f].x*u,s[f].y=s[f].y*u,s[f].width=s[f].width*u,s[f].height=s[f].height*u;var d={x:s[f].x+Math.floor(s[f].width/2),y:s[f].y+Math.floor(s[f].height/2)},h={x:(d.x-Math.floor(s[f].width/4))/r.width,y:(r.height-d.y)/r.height},p={x:(d.x+Math.floor(s[f].width/4))/r.width,y:(r.height-d.y)/r.height},m={x:d.x/r.width,y:(r.height-(d.y+Math.floor(s[f].height/(5/3))))/r.height},_=s[f].width;c[f]={rightEye:h,leftEye:p,chinCenter:m,faceScale:_},l[f]=s[f].confidence,e._expandAndClamp(s[f],1.1,1.4,e._origCanvas.width,e._origCanvas.height)}for(var v=[],g=0;g<s.length;g++)v.push(e._croppedImageData(s[g]));var y=e.getTotalFaces(s),w=e._outlierRemover.next(y),b=Math.round(e._lerp.next(w,t.frameTimestamp));return O(O({},e.throttleTotalFaces(b,t.frameTimestamp)),{},{type:"face_detector",rects:s,faces:v,status:a,fullFrameDetection:o,private:{estFeats:c,qThrsh:l}})}))}},{key:"getTotalFaces",value:function(t){var e=this,r=t.map((function(t){return t.confidence})).filter((function(t){return t>=e._minConfidenceForTotalFaces})).sort().reverse();return r.length>1&&(r=r.filter((function(t){return t>=e._minConfidenceForMultifaces}))),Math.min(r.length,this._multiFace?6:1)}},{key:"throttleTotalFaces",value:function(t,e){var r=e-(this._lastChange||0)>this._throttleChangeMs,n=this._prevTotalFaces!==t,i={};return r&&n?(i.totalFacesChangedFrom=this._prevTotalFaces,i.totalFaces=t,this._lastChange=e,this._prevTotalFaces=t):i.totalFaces=this._prevTotalFaces,i}},{key:"terminate",value:function(){}}]),t}();e.default=E},52:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(0),i=r.n(n),s=r(1),a=r.n(s),o=function(){function t(e,r){i()(this,t),this._minRestTime=e,this._lastDoneTime=0,this._canSchedule=!0,this._busyReject=r}return a()(t,[{key:"remainingMs",value:function(){return Math.max(0,this._minRestTime-(Date.now()-this._lastDoneTime))}},{key:"canSchedule",value:function(){return this._canSchedule&&0===this.remainingMs()}},{key:"scheduleNext",value:function(t){var e=this;return this.canSchedule()?(this._canSchedule=!1,Promise.resolve(t()).then((function(t){return e.processDone(),t})).catch((function(t){throw e.processDone(),t}))):Promise.reject(this._busyReject)}},{key:"processDone",value:function(){this._canSchedule=!0,this._lastDoneTime=Date.now()}}]),t}()},53:function(t,e,r){var n=r(57);function i(){return"undefined"!=typeof Reflect&&Reflect.get?(t.exports=i=Reflect.get,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=i=function(t,e,r){var i=n(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(arguments.length<3?t:r):s.value}},t.exports.__esModule=!0,t.exports.default=t.exports),i.apply(this,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},55:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(0),i=r.n(n),s=r(1),a=r.n(s),o=function(){function t(e){i()(this,t),this._lastTimestamp=null,this._reject=e}return a()(t,[{key:"push",value:function(t){if(null===this._lastTimestamp)this._lastTimestamp=t;else{if(this._lastTimestamp>t)return Promise.reject(this._reject);this._lastTimestamp=t}}}]),t}()},57:function(t,e,r){var n=r(5);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},58:function(t,e,r){"use strict";r.d(e,"a",(function(){return _})),r.d(e,"b",(function(){return x})),r.d(e,"c",(function(){return k})),r.d(e,"d",(function(){return S}));var n=r(53),i=r.n(n),s=r(8),a=r.n(s),o=r(9),u=r.n(o),c=r(5),l=r.n(c),f=r(0),d=r.n(f),h=r(1),p=r.n(h);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l()(t);if(e){var i=l()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u()(this,r)}}var _=function(){function t(e){if(d()(this,t),!e||e<0||e>1)throw new TypeError("Bad or more arguments needed");this._alphaAt10Fps=e,this._lastTimestampMs=null}return p()(t,[{key:"alphaAt10Fps",get:function(){return this._alphaAt10Fps}},{key:"lastTimestampMs",get:function(){return this._lastTimestampMs}},{key:"update",value:function(e){var r,n=e-this._lastTimestampMs;if(null===this._lastTimestampMs||n>=t.MAX_PERIOD_ALLOWED_MS)r=1;else{if(n<0||isNaN(e))throw new TypeError("Missing or bad timestamp during push (not an integer or antecedent to the one stored). Stored timestamp: "+this._lastTimestampMs+", pushed: "+e);r=t._computeAlpha(this._alphaAt10Fps,n)}return this._lastTimestampMs=e,r}}],[{key:"MAX_PERIOD_ALLOWED_MS",get:function(){return 1e3}},{key:"_computeAlpha",value:function(t,e){var r=e/1e3,n=Math.pow(1-t,10);return 1-Math.pow(n,r)}}]),t}(),v=p()((function t(e,r){var n=this;if(d()(this,t),(this instanceof t?this.constructor:void 0)===e||(this instanceof t?this.constructor:void 0)===t)throw new TypeError("Cannot construct abstract instances directly");r.forEach((function(t){if("function"!=typeof n[t])throw new TypeError("Must override method "+t)}))})),g=function(t){a()(r,t);var e=m(r);function r(){return d()(this,r),e.call(this,r,["push"])}return p()(r)}(v),y=function(t){a()(r,t);var e=m(r);function r(){var t;return d()(this,r),(t=e.call(this))._lastValue=null,t}return p()(r,[{key:"value",get:function(){return this._lastValue}},{key:"push",value:function(t){this._lastValue=t}}]),r}(g),w=function(t){a()(r,t);var e=m(r);function r(){var t;return d()(this,r),(t=e.call(this))._lastEma=null,t}return p()(r,[{key:"ema",get:function(){return this._lastEma}},{key:"push",value:function(t,e){if(null===this._lastEma)this._lastEma=t;else{if(isNaN(e))throw TypeError("Bad or missing alpha argument.");this._lastEma=(1-e)*this._lastEma+e*t}}}]),r}(g),b=function(t){a()(r,t);var e=m(r);function r(){var t;return d()(this,r),(t=e.call(this))._lastEmvar=null,t}return p()(r,[{key:"emvar",get:function(){return this._lastEmvar}},{key:"push",value:function(t,e){var n=t-this.ema;return i()(l()(r.prototype),"push",this).call(this,t,e),null===this._lastEmvar?(this._lastEmvar=0,this._lastEmvar):(this._lastEmvar=(1-e)*(this._lastEmvar+e*Math.pow(n,2)),this._lastEmvar)}}]),r}(w),M=function(t){a()(r,t);var e=m(r);function r(){return d()(this,r),e.call(this,r,["next"])}return p()(r)}(v),x={EMA:Symbol("ema"),EMVAR:Symbol("emvar"),NONE:Symbol("none")},k=function(t){a()(r,t);var e=m(r);function r(t){var n,i=t.type,s=void 0===i?x.EMVAR:i,a=t.alphaAt10Fps;switch(d()(this,r),n=e.call(this),s){case x.EMA:case x.EMVAR:n._processor=new b,n._alphaCalculator=new _(a);break;case x.NONE:n._processor=new y,n._alphaCalculator={update:function(){return null}};break;default:throw new TypeError("Not implemented")}return n._type=s,n}return p()(r,[{key:"next",value:function(t,e){var r=this._alphaCalculator.update(e);switch(this._processor.push(t,r),this._type){case x.EMVAR:return this._processor.emvar;case x.EMA:return this._processor.ema;case x.NONE:return this._processor.value}}},{key:"statistics",get:function(){return this._processor}}]),r}(M),S=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:x.NONE};d()(this,t),this._filters=new Array(e);for(var n=0;n<e;n++)this._filters[n]=new k(r)}return p()(t,[{key:"next",value:function(t,e){if(t.length!==this._filters.length)throw new TypeError("Wrong length of array in input.");return this._filters.map((function(r,n){return r.next(t[n],e)}))}}]),t}()},62:function(t,e,r){"use strict";r.d(e,"b",(function(){return u})),r.d(e,"a",(function(){return c}));var n=r(0),i=r.n(n),s=r(1),a=r.n(s),o=0,u=function(){function t(e){i()(this,t),this._worker=e,this._requestsMap={}}return a()(t,[{key:"onmessage",set:function(t){this._worker.onmessage=t}},{key:"onMessage",value:function(t){var e=this._requestsMap[t.data[c.messageIdProperty()]];if(void 0===e)throw new Error("Got a response from with id "+t.data[c.messageIdProperty()]+" from worker, but request has not been mapped.");delete this._requestsMap[t.data[c.messageIdProperty()]],delete t.data[c.messageIdProperty()],e(t)}},{key:"postMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!=e?this._worker.postMessage(t,e):this._worker.postMessage(t)}},{key:"postMessageWithPromise",value:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e[c.messageIdProperty()]=t._nextId();var i=new Promise((function(t){r._requestsMap[e[c.messageIdProperty()]]=t}));return this.postMessage(e,n),i}},{key:"terminate",value:function(){this._worker.terminate()}}],[{key:"_nextId",value:function(){return++o}}]),t}(),c=function(){function t(){i()(this,t)}return a()(t,null,[{key:"isPromiseMessage",value:function(e){return void 0!==e.data[t.messageIdProperty()]}},{key:"messageIdProperty",value:function(){return"_messageId"}}]),t}()},63:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r(0),i=r.n(n),s=r(1),a=r.n(s),o=r(62),u=function(){function t(e){i()(this,t),this._worker=e,this._listeners={},this._registerToOnMessage()}return a()(t,[{key:"_registerToOnMessage",value:function(){var t=this;this._worker.onmessage=function(e){return t._dispatch(e)}}},{key:"_dispatch",value:function(t){var e=this,r=this._getListenerOrDefaultFor(t.data.type)(t);void 0!==r&&Promise.resolve(r).then((function(t){null!=t.transferList?(delete t.transferList,e._worker.postMessage(t,t.transferList)):e._worker.postMessage(t)}))}},{key:"setListenerFor",value:function(t,e){var r=this;this._listeners[t]=function(t){var n=e(t);return o.a.isPromiseMessage(t)&&r._handlePromiseMessage(t,n),n}}},{key:"delegateEventToWorker",value:function(t){var e=this;this.setListenerFor(t,(function(t){e._worker.onMessage(t)}))}},{key:"_handlePromiseMessage",value:function(t,e){Promise.resolve(e).then((function(e){null!=e?e[o.a.messageIdProperty()]=t.data[o.a.messageIdProperty()]:console.warn("Sent a postMessageWithPromise("+JSON.stringify(t.data).substr(0,100)+"), but got "+e+" response!")}))}},{key:"_getListenerOrDefaultFor",value:function(t){return this._listeners[t]||function(){return console.warn("Listener for type "+t+" not registered!")}}}]),t}()},64:function(t,e,r){"use strict";var n=window.URL||window.webkitURL;t.exports=function(t,e){try{try{var r;try{(r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),r=r.getBlob()}catch(e){r=new Blob([t])}return new Worker(n.createObjectURL(r))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!e)throw Error("Inline worker is not supported");return new Worker(e)}}}}]);